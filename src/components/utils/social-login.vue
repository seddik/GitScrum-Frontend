<script>
import appConfig from '@src/app.config'

export default {
  methods: {
    AuthProvider(provider) {
      var self = this

      this.$auth
        .authenticate(provider)
        .then((response) => {
          self.socialLogin(provider, response)
        })
    },
    socialLogin(provider, response) {
      if (this.$route.query.invitation) {
        this.$set(response, 'token_invitation', this.$route.query.invitation)
      }

      this.$http
        .post(appConfig.APIBaseURL + '/auth/login/' + provider, response)
        .then((response) => {
          this.authentication(response, false)
        })
    },
  },
}
</script>

<template>
  <div class="d-block">
    <button class="btn btn-large btn-block btn-light mt-10px" @click="AuthProvider('google')">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4.87566 13.2949L4.10988 16.1537L1.31093 16.2129C0.474461 14.6614 0 12.8863 0 11C0 9.17594 0.443609 7.45581 1.22994 5.94121H1.23054L3.72238 6.39805L4.81396 8.87494C4.5855 9.541 4.46097 10.256 4.46097 11C4.46106 11.8075 4.60732 12.5811 4.87566 13.2949Z"
          fill="#FBBB00"
        />
        <path
          d="M21.8078 8.94507C21.9341 9.61048 22 10.2977 22 11C22 11.7875 21.9172 12.5557 21.7595 13.2967C21.224 15.8183 19.8248 18.0201 17.8865 19.5782L17.8859 19.5776L14.7473 19.4175L14.3031 16.6445C15.5892 15.8902 16.5944 14.7098 17.1238 13.2967H11.2418V8.94507H17.2096H21.8078Z"
          fill="#518EF8"
        />
        <path
          d="M17.8859 19.5776L17.8865 19.5782C16.0014 21.0934 13.6067 22 11 22C6.81093 22 3.16885 19.6586 1.31093 16.2129L4.87566 13.2949C5.8046 15.7741 8.1962 17.539 11 17.539C12.2051 17.539 13.3342 17.2132 14.303 16.6445L17.8859 19.5776Z"
          fill="#28B446"
        />
        <path
          d="M18.0213 2.53241L14.4577 5.44981C13.4551 4.82307 12.2698 4.46102 11 4.46102C8.13274 4.46102 5.69641 6.30682 4.814 8.87494L1.23054 5.9412H1.22993C3.06066 2.41154 6.74867 0 11 0C13.669 0 16.1162 0.950727 18.0213 2.53241Z"
          fill="#F14336"
        />
      </svg>
      <span>{{ $t('Sign in with Google') }}</span>
    </button>

    <button class="btn btn-large btn-block btn-light mt-10px" @click="AuthProvider('facebook')">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M20.7856 3.88789e-08H1.21336C0.543152 0.000335732 -0.000167808 0.543991 3.88789e-08 1.21437V20.7866C0.000335732 21.4568 0.543991 22.0002 1.21437 22H20.7856C21.4562 22.0002 21.9998 21.4567 22 20.7861C22 20.786 22 20.7858 22 20.7856V1.21336C21.9997 0.543152 21.456 -0.000167808 20.7856 3.88789e-08Z"
          fill="#4267B2"
        />
        <path
          d="M15.1895 22V13.4922H18.0576L18.4873 10.1621H15.1895V8.0412C15.1895 7.07927 15.4565 6.42383 16.8359 6.42383H18.584V3.45345C18.2798 3.41299 17.2363 3.32253 16.0221 3.32253C13.487 3.32253 11.752 4.8694 11.752 7.71138V10.1621H8.89453V13.4922H11.752V22H15.1895Z"
          fill="white"
        />
      </svg>
      <span>{{ $t('Sign in with Facebook') }}</span>
    </button>

    <button class="btn btn-large btn-block btn-light mt-10px" @click="AuthProvider('github')">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M11 0.458344C4.92249 0.458344 -7.62939e-06 5.29834 -7.62939e-06 11.2677C-7.62939e-06 16.0444 3.15149 20.0952 7.52124 21.5233C8.07124 21.6251 8.27291 21.2905 8.27291 21.0036C8.27291 20.7469 8.26374 20.0668 8.25916 19.1657C5.19933 19.8174 4.55399 17.7155 4.55399 17.7155C4.05349 16.4679 3.33024 16.1343 3.33024 16.1343C2.33383 15.4642 3.40724 15.4779 3.40724 15.4779C4.51183 15.5531 5.09208 16.5917 5.09208 16.5917C6.07291 18.2444 7.66699 17.7668 8.29583 17.4909C8.39483 16.7915 8.67808 16.3158 8.99249 16.0453C6.54958 15.7749 3.98199 14.8454 3.98199 10.7039C3.98199 9.52418 4.40824 8.55984 5.11408 7.80359C4.99033 7.53043 4.61908 6.43134 5.21033 4.94268C5.21033 4.94268 6.13158 4.65301 8.23533 6.05093C9.11533 5.81076 10.0503 5.69159 10.9853 5.68609C11.9203 5.69159 12.8553 5.81076 13.7353 6.05093C15.8253 4.65301 16.7466 4.94268 16.7466 4.94268C17.3378 6.43134 16.9666 7.53043 16.8566 7.80359C17.5578 8.55984 17.9841 9.52418 17.9841 10.7039C17.9841 14.8564 15.4128 15.7703 12.9653 16.0362C13.3503 16.3607 13.7078 17.0234 13.7078 18.0363C13.7078 19.4828 13.6941 20.6452 13.6941 20.9963C13.6941 21.2795 13.8866 21.6178 14.4503 21.5096C18.8512 20.0906 22 16.0371 22 11.2677C22 5.29834 17.0747 0.458344 11 0.458344Z"
          fill="#212121"
        />
      </svg>
      <span>{{ $t('Sign in with Github') }}</span>
    </button>
  </div>
</template>
